<div class="mx-auto md:w-2/3 w-full">

  <div data-controller="info-box">
    <div class="info-button">&#x24D8;</div>
    <ul class="info-box">
      <li>This page allows you to select which people should receive the "<%= @billable.name %>" package or option.
      <li><strong>White rows</strong>: Active people with packages assigned who can receive this package/option.
      <li><strong>Gray rows</strong>: People without entries defined. They may not be actively participating in the event.
      <li><strong>Yellow rows</strong>: People without a package selected. Assign them a package before adding options.
      <li>Check the boxes next to people who should receive this item, then click the submit button to save.
      <li>Checked items will appear on individual invoices and studio invoices.
      <li>Use this for optional add-ons like meals, social events, or special packages that don't apply to everyone.
      <li>Package assignments can also be managed individually from each person's page.
    </ul>
  </div>

  <h1 class="font-bold text-4xl"><%= @billable.name %></h1>

<%= form_with(class: "contents") do |form| %>

<table class="table-auto my-4">
<% @people.each do |person| %>
  <% if not person.active? %>
  <tr class="bg-slate-200" title="no entries defined">
  <% elsif not person.package_id %>
  <tr class="bg-yellow-100" title="no package selected">
  <% else %>
  <tr>
  <% end %>
    <td><%= form.check_box "person[#{person.id}]", class: "entry-count h-10",
      checked: @billable.people.include?(person) %>
    <td class="px-4"><%= person.name %>
    <td><%= person.studio.name %>
  </tr>
<% end %>
</table>

  <div class="inline">
    <%= form.submit class: "rounded-lg py-3 px-5 bg-blue-600 text-white inline-block font-medium cursor-pointer" %>
  </div>
<% end %>

  <%= link_to "Back to package", edit_billable_path(@billable), class: "ml-2 rounded-lg py-3 px-5 bg-gray-100 inline-block font-medium" %>
</div>

