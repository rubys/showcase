<div class="w-full mx-12">

<%= render 'inventory_nav' %>

<h1 class="font-bold text-4xl mb-6">Event Options Summary</h1>


<div class="space-y-8">
  <% # Heat list column order %>
  <div class="bg-white rounded-lg shadow p-6">
    <h2 class="font-bold text-2xl mb-4">Heat list column order</h2>
    <ul class="space-y-2">
      <% @option_counts[:column_order].each do |value, data| %>
        <li class="flex items-center">
          <span class="text-gray-500 w-12 text-right mr-4"><%= data[:count] %></span>
          <% if data[:count] > 0 %>
            <%= link_to data[:label], inventory_path(column_order: value), 
                class: "text-blue-600 hover:underline", data: { turbo: false } %>
          <% else %>
            <span class="text-gray-600"><%= data[:label] %></span>
          <% end %>
        </li>
      <% end %>
    </ul>
  </div>

  <% # Ballrooms %>
  <div class="bg-white rounded-lg shadow p-6">
    <h2 class="font-bold text-2xl mb-4">Ballrooms</h2>
    <ul class="space-y-2">
      <% @option_counts[:ballrooms].each do |value, data| %>
        <li class="flex items-center">
          <span class="text-gray-500 w-12 text-right mr-4"><%= data[:count] %></span>
          <% if data[:count] > 0 %>
            <%= link_to data[:label], inventory_path(ballrooms: value), 
                class: "text-blue-600 hover:underline", data: { turbo: false } %>
          <% else %>
            <span class="text-gray-600"><%= data[:label] %></span>
          <% end %>
        </li>
      <% end %>
    </ul>
  </div>


  <% # Pro/Am options %>
  <div class="bg-white rounded-lg shadow p-6">
    <h2 class="font-bold text-2xl mb-4">Pro-am categories on heat sheets</h2>
    <ul class="space-y-2">
      <% @option_counts[:pro_am].each do |value, data| %>
        <li class="flex items-center">
          <span class="text-gray-500 w-12 text-right mr-4"><%= data[:count] %></span>
          <% if data[:count] > 0 %>
            <%= link_to data[:label], inventory_path(pro_am: value), 
                class: "text-blue-600 hover:underline", data: { turbo: false } %>
          <% else %>
            <span class="text-gray-600"><%= data[:label] %></span>
          <% end %>
        </li>
      <% end %>
    </ul>
  </div>
  
  <% # Heat order options %>
  <div class="bg-white rounded-lg shadow p-6">
    <h2 class="font-bold text-2xl mb-4">Heat order</h2>
    <ul class="space-y-2">
      <% @option_counts[:heat_order].each do |value, data| %>
        <li class="flex items-center">
          <span class="text-gray-500 w-12 text-right mr-4"><%= data[:count] %></span>
          <% if data[:count] > 0 %>
            <%= link_to data[:label], inventory_path(heat_order: value), 
                class: "text-blue-600 hover:underline", data: { turbo: false } %>
          <% else %>
            <span class="text-gray-600"><%= data[:label] %></span>
          <% end %>
        </li>
      <% end %>
    </ul>
  </div>

  <% # Boolean options (only those on the Options settings page) %>
  <% option_labels_before_dance_limit = {
    intermix: 'Intermix dances within category?',
    backnums: 'Use back numbers?',
    track_ages: 'Track student ages?',
    include_open: 'Include open freestyles?',
    include_closed: 'Include closed freestyles?',
    pro_heats: 'Include pro heats?',
    agenda_based_entries: 'Match entry forms to agenda?',
    independent_instructors: 'Include independent instructors?'
  } %>
  
  <% option_labels_before_dance_limit.each do |option_name, label| %>
    <div class="bg-white rounded-lg shadow p-6">
      <h2 class="font-bold text-2xl mb-4"><%= label %></h2>
      <ul class="space-y-2">
        <% @option_counts[option_name].each do |value, data| %>
          <li class="flex items-center">
            <span class="text-gray-500 w-12 text-right mr-4"><%= data[:count] %></span>
            <% if data[:count] > 0 %>
              <%= link_to data[:label], inventory_path(option_name => value), 
                  class: "text-blue-600 hover:underline", data: { turbo: false } %>
            <% else %>
              <span class="text-gray-600"><%= data[:label] %></span>
            <% end %>
          </li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <% # Dance limit (appears right before strict_scoring in settings) %>
  <% if @option_counts[:dance_limit].any? %>
  <div class="bg-white rounded-lg shadow p-6">
    <h2 class="font-bold text-2xl mb-4">Limit # of entries per dance per category</h2>
    <ul class="space-y-2">
      <% @option_counts[:dance_limit].each do |value, data| %>
        <li class="flex items-center">
          <span class="text-gray-500 w-12 text-right mr-4"><%= data[:count] %></span>
          <% if data[:count] > 0 %>
            <%= link_to data[:label], inventory_path(dance_limit: value), 
                class: "text-blue-600 hover:underline", data: { turbo: false } %>
          <% else %>
            <span class="text-gray-600"><%= data[:label] %></span>
          <% end %>
        </li>
      <% end %>
    </ul>
  </div>
  <% end %>

  <% # Strict scoring (last option in settings) %>
  <div class="bg-white rounded-lg shadow p-6">
    <h2 class="font-bold text-2xl mb-4">Strictly enforce levels and age scoring?</h2>
    <ul class="space-y-2">
      <% @option_counts[:strict_scoring].each do |value, data| %>
        <li class="flex items-center">
          <span class="text-gray-500 w-12 text-right mr-4"><%= data[:count] %></span>
          <% if data[:count] > 0 %>
            <%= link_to data[:label], inventory_path(strict_scoring: value), 
                class: "text-blue-600 hover:underline", data: { turbo: false } %>
          <% else %>
            <span class="text-gray-600"><%= data[:label] %></span>
          <% end %>
        </li>
      <% end %>
    </ul>
  </div>
</div>

</div>