<div class="w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
  <% end %>

  <div data-controller="info-box">
  <div class="info-button">&#x24D8;</div>
  <ul class="info-box">
  <li>Drag and drop within a category to control the order of heats.
  <li><strong>Sort by level</strong> button: Orders solos by participant level within each category.
  <li><strong>Max Gap</strong> button: Optimizes the schedule to maximize time between appearances for all performers (useful for costume changes).
  </ul>
  </div>

  <div class="flex justify-between items-center">
    <h1 class="mx-auto font-bold text-4xl">Solos</h1>
  </div>

  <div class="min-w-full">
  <table class="mt-4 table-auto mx-auto">
  <thead>
    <th width="5">
    <th class="row-head">Dance
    <th class="row-head">Lead
    <th class="row-head">Follow
    <th class="row-head">Level
    <th class="row-head">Category
    <th class="row-head">Studio
  </thead>
  <% @solos.each do |cat, heats| %>
    <tr>
      <td class="text-2xl pt-4" colspan="7"><%= cat&.name || 'Uncategorized' %>
    </tr>
    <%= render partial: 'cat', locals: {heats: heats, id: cat && cat.id > 0 ? dom_id(cat) : 'category_0', category: cat } %>
  <% end %>
  </table>
</div>

<div class="mt-4 grid grid-cols-2 justify-items-center">
  <%= up_link 'Sort by level', sort_level_solos_path, class: "inline btn-blue", method: :post %>
  <%= up_link 'Max Gap', sort_gap_solos_path, class: "inline btn-blue", method: :post %>
</div>

</div>
